{% extends 'base.html' %}

{% block styles %}
<style>
.user-card { border-radius:12px; overflow:hidden; }
.user-avatar { width:100%; height:180px; object-fit:cover; }
.user-body { padding:1rem; }
.skill-badge { margin-right:6px; margin-bottom:6px; }
</style>
{% endblock %}

{% block content %}
<div class="container py-5">
    <h2 class="section-title text-center">People & Sellers</h2>
    <p class="text-center text-muted mb-4">Browse creators and professionals. Click a card to view their profile and gigs.</p>

    <div class="row">
        {% for u in users_data %}
        <div class="col-12 col-md-6 col-lg-4 mb-4">
            <a href="{% url 'user_profile' u.id %}" class="text-decoration-none text-dark">
                <div class="card user-card shadow-sm">
                    <img src="{{ u.avatar }}" class="user-avatar" alt="{{ u.username }}">
                    <div class="user-body">
                        <h5 class="mb-1">{{ u.full_name|default:u.username }}</h5>
                        <p class="text-muted mb-2">{{ u.projects_count }} Gigs</p>
                        <div class="mb-2">
                            {% for s in u.skills %}
                                <span class="badge bg-light text-dark skill-badge">{{ s.name }}</span>
                            {% endfor %}
                        </div>
                        <div class="text-end">
                            <a href="{% url 'user_profile' u.id %}" class="btn btn-primary">See profile</a>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
